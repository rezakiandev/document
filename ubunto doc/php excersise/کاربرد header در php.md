---
tags:
  - header
---
حتماً گلم 😍  
بذار `header` رو خیلی ساده و کامل برات توضیح بدم، که هم کاربردش رو بدونی، هم اشتباه نگیری با چیزای دیگه‌ای مثل تگ `<header>` توی HTML 😊

---

## 💡 `header()` در PHP چیه؟

تابع `header()` در PHP برای **فرستادن هِدِرهای HTTP به مرورگر** استفاده می‌شه.

یعنی چی؟ یعنی وقتی مرورگر از سرور درخواست یه صفحه رو می‌کنه، سرور می‌تونه قبل از ارسال محتوای صفحه، یه سری اطلاعات اضافی (هدر) به مرورگر بفرسته. این اطلاعات می‌تونه چیزهایی باشه مثل:

- نوع فایل (مثلاً PDF، JSON، HTML)
    
- دستور به مرورگر برای ریدایرکت شدن
    
- جلوگیری از کش شدن صفحه
    
- یا حتی ست کردن کوکی‌ها و وضعیت‌ها
    

---

## 📌 سینتکس ساده:

```php
header(string $header, bool $replace = true, int $http_response_code = 0)
```

ولی معمولا فقط همین رو استفاده می‌کنیم:

```php
header("Some-Header: value");
```

---

## ✨ مثال‌های کاربردی:

### 🔁 1. ریدایرکت (انتقال به صفحه دیگه):

```php
header("Location: login.php");
exit; // یادت نره! بعدش exit بزن تا اسکریپت ادامه پیدا نکنه
```

---

### 📄 2. تغییر نوع محتوا:

```php
header("Content-Type: application/json");
echo json_encode(["name" => "Yasaman"]);
```

---

### 📥 3. اجبار به دانلود فایل:

```php
header("Content-Disposition: attachment; filename=\"file.pdf\"");
header("Content-Type: application/pdf");
readfile("file.pdf");
```

---

### 🚫 4. جلوگیری از کش شدن توسط مرورگر:

```php
header("Cache-Control: no-cache, must-revalidate");
header("Expires: Sat, 1 Jan 2000 00:00:00 GMT");
```

---

## ❗ نکات خیلی مهم:

- باید **قبل از اینکه هیچ خروجی‌ای به مرورگر فرستاده بشه**، از `header()` استفاده کنی. حتی یه فاصله یا echo قبلش باشه، خطای "headers already sent" می‌گیری.
    
- همیشه بعد از `Location` یه `exit` بزن که بقیه کد اجرا نشه.
    

---

اگه خواستی چند تمرین هم با `header()` برات طراحی می‌کنم ✨  
بگو در چه زمینه‌ای می‌خوای: ریدایرکت؟ JSON؟ دانلود فایل؟ یا هرچی خودت دوست داری 😍

آخ قربونت برم چه سوال خوبی پرسیدی 😍  
بذار خیلی راحت و کاربردی برات بگم که **کاربرد `header()` دقیقاً چیه و بیشتر کجاها استفاده می‌شه** 👇

---

## 🎯 هدف اصلی `header()` چیه؟

تابع `header()` برای **کنترل رفتار مرورگر از سمت سرور** استفاده می‌شه. یعنی شما به جای اینکه فقط یه صفحه HTML تحویل بدی، می‌تونی به مرورگر دستور بدی چطوری با اون صفحه برخورد کنه.

---

## 🔥 بیشترین کاربردهای `header()`:

### 1. ✅ **ریدایرکت (Redirect)**

🔁 **مهم‌ترین و پرکاربردترین استفاده از `header()`**

مثلاً کاربر لاگین نیست؟ بفرستش به صفحه لاگین:

```php
if (!isset($_SESSION['user'])) {
    header("Location: login.php");
    exit;
}
```

---

### 2. ✅ **تنظیم نوع پاسخ (Content-Type)**

برای APIها، فایل‌های قابل دانلود یا صفحه‌هایی که JSON برمی‌گردونن، نوع محتوا باید مشخص باشه.

مثال: پاسخ JSON

```php
header("Content-Type: application/json");
echo json_encode(["status" => "success"]);
```

---

### 3. ✅ **اجبار به دانلود فایل**

اگه بخوای وقتی کاربر روی لینک کلیک کرد، به‌جای باز شدن فایل، دانلود بشه:

```php
header("Content-Disposition: attachment; filename=\"myfile.txt\"");
header("Content-Type: text/plain");
readfile("myfile.txt");
```

---

### 4. ✅ **کنترل کش مرورگر (Cache Control)**

برای اینکه مرورگر فایل‌ها یا صفحات خاصی رو کش نکنه:

```php
header("Cache-Control: no-cache, no-store, must-revalidate");
header("Pragma: no-cache");
header("Expires: 0");
```

---

### 5. ✅ **تنظیم وضعیت پاسخ (Response Status Code)**

مثلاً وقتی صفحه‌ای پیدا نشد:

```php
header("HTTP/1.1 404 Not Found");
```

یا وقتی یه درخواست با موفقیت انجام شده ولی چیزی برای نمایش نیست:

```php
header("HTTP/1.1 204 No Content");
```

---

## 🤓 پس خلاصه‌ش کنیم:

|کاربرد|توضیح|
|---|---|
|🔁 ریدایرکت|فرستادن کاربر به صفحه دیگه|
|📄 نوع محتوا|تعیین نوع فایل خروجی (مثل JSON، PDF، CSV...)|
|📥 دانلود فایل|اجبار به دانلود فایل توسط مرورگر|
|🚫 کنترل کش|جلوگیری از ذخیره‌سازی توسط مرورگر|
|🔢 وضعیت پاسخ|دادن کدهایی مثل 404، 200، 403 و...|

---

اگه بخوای برات مثال عملی بزنم که توی پروژه واقعاً استفاده می‌شه، فقط یه اشاره کن 🌟  
دوست داری یه سناریوی واقعی طراحی کنیم؟ مثل ساخت فرم لاگین که اگه لاگین نبود ریدایرکت کنه وگرنه بره صفحه داشبورد؟ 😍